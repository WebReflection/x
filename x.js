const e=1,t=2,r=8;class n{constructor(e,t){this.node=e,this.info=e.create(!1,t)}update(e){return this.info.update(e).node}}const{isArray:s}=Array,o=Symbol(),l=[null],i=e=>t=>{const r=null==t;e.replaceWith(r||"object"!=typeof t?document.createTextNode(r?"":t):t.valueOf())},a=/^(?:plaintext|script|style|textarea|title|xmp)$/i,c=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;var d=(0,Object.freeze)([]);const{setPrototypeOf:h}=Object;class u extends((e=>{function t(e){return h(e,new.target.prototype)}return t.prototype=e.prototype,t})(DocumentFragment)){static diff(e,t){return e instanceof u?1/t<0?t?e.#e(!0):e.#t:t?e.valueOf():e.#r:e}#r;#t;#e(e){let t,{childNodes:r}=this;return e&&(t=r.pop()),super.replaceChildren(...r),t}constructor(e=document.createDocumentFragment()){super(e),this.#r=super.firstChild,this.#t=super.lastChild,this.#r||super.append(this.#r=document.createComment("<>"),this.#t=document.createComment("</>"))}get firstChild(){return this.#r}get lastChild(){return this.#t}get parentNode(){return this.#t.parentNode}get childNodes(){let e=this.#r;const t=[e],r=this.#t;for(;e!=r;)t.push(e=e.nextSibling);return t}remove(){this.#e(!1)}replaceWith(e){const t=this.#e(!0),r=this.#t;t!==r&&super.appendChild(t),r.replaceWith(e)}valueOf(){const{parentNode:e}=this.#t;return e?e!==this&&super.replaceChildren(...this.childNodes):super.appendChild(this.#t),this}}class p{constructor(e,t){this.node=e,this.updates=t}update(e){const{updates:t}=this;for(let{length:r}=t,n=0;n<r;n++)t[n](e[n]);return this}}class m{constructor(e,t,r){this.type=e,this.node=t,this.paths=r}create(e,t){const{type:r,node:n,paths:s}=this,{length:o}=s,l=o?[]:d,i=document.importNode(n,!0);for(let r,n=i,a=0;a<o;a++){const{type:o,name:c,path:h}=s[a];if(h!==d&&h!==r){r=h,n=i;for(let{length:e}=h,t=0;t<e;t++)n=n.childNodes[h[t]]}l[a]=2===o?t[2](e,n,c):t[o](e,n)}return new p(11===r?new u(i):i,l)}}class f{constructor(e,t,r){this.type=e,this.name=t,this.path=r}}const C=e=>{const{firstChild:t}=e;return t&&t===e.lastChild?e.removeChild(t):e};let g=document.createElement("template");const v=e=>{g.innerHTML=e;const{content:t}=g,r=C(t);return r===t&&(g=g.cloneNode(!1)),r};let x;const y=e=>(x||(x=document.createRange(),x.selectNodeContents(document.createElementNS("http://www.w3.org/2000/svg","svg"))),C(x.createContextualFragment(e))),b=/<([a-zA-Z0-9]+[a-zA-Z0-9:._-]*)([^>]*?)(\/?)>/g,N=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,w=/[\x01\x02]/g;const A="_x",{indexOf:$}=d,O=e=>{const t=[];let r,n=0;for(;r=e.parentNode;)n=t.push($.call(r.childNodes,e)),e=r;return n<2?n?t:d:t.reverse()},k=(e,t,r,n)=>{switch(t.nodeType){case 8:t.data===A+n&&(r.push(new f(8,"#comment",O(t))),n++);break;case 1:{let s,o;for(;t.hasAttribute(o=A+n);)r.push(new f(2,t.getAttribute(o),s||(s=O(t)))),t.removeAttribute(o),n++;!e&&a.test(t.localName)&&t.textContent.trim()===`\x3c!--${o}--\x3e`&&(r.push(new f(1,"#text",s||O(t))),n++);break}}return n};var T=e=>{const t=e?y:v;return r=>{const n=((e,t,r)=>{let n=0;return e.join("").trim().replace(b,((e,t,n,s)=>`<${t}${n.replace(N,"=$2$1").trimEnd()}${s?r||c.test(t)?" /":`></${t}`:""}>`)).replace(w,(e=>""===e?`\x3c!--${t+n++}--\x3e`:t+n++))})(r,A,e),s=t(n),o=r.length-1;let l=d;if(o){let t=k(e,s,l=[],0);if(t<o){const r=document.createTreeWalker(s,129);for(;t<o;)t=k(e,r.nextNode(),l,t)}}return new m(s.nodeType,s,l)}};const W=(_=WeakMap,class extends _{set(e,t){return super.set(e,t),t}});var _;let j=null;const E=new W,z=(e,t)=>{const r=j;var s,o,l;j=E.get(e)||E.set(e,(s=0,o=!0,l=[],{parse:(e,t,r)=>((o||l[s].node!==e)&&(l[s]=new n(e,t),o=!0),l[s++].update(r)),update:(e,t)=>{o&&e.replaceChildren(t),o=!1,s=0}}));try{j.update(e,t())}finally{j=r}return e},F=(e,t,r)=>e.create(!0,t).update(r).node,L=(n,s,l)=>{const i=new W,a=T(n),c=((n,s,l)=>({[t]:(e,t,r)=>{let l=r[0],i=l in s?l:r in s?r:o;return s[i](t,l===i?r.slice(1):r,e,n)},[r]:(e,t)=>l(t,e,n),[e]:(e,t)=>e=>{t.textContent=null==e?"":e}}))(n,s,l);return(e,...t)=>(j?.parse||F)(i.get(e)||i.set(e,a(e)),c,t)};var S={__proto__:null,[o]:(e,t)=>r=>((e,t,r)=>{null==r?e.removeAttribute(t):e.setAttribute(t,r)})(e,t,r),"@":(e,t)=>((e,t)=>{let r=l;return n=>{const o=n?s(n)?n:[n]:l,i=o[0]!=r[0];i&&r[0]&&e.removeEventListener(t,...r),i&&e.addEventListener(t,...o),r=o}})(e,t),"?":(e,t)=>r=>((e,t,r)=>{e.toggleAttribute(t,r)})(e,t,r),".":(e,t)=>r=>((e,t,r)=>{e[t]=r})(e,t,r)};const D=e=>{let t;return r=>{let n,s=null==r;if(s||"object"!=typeof r){const e=s?"":r;t?t.data!==e&&(t.data=e):t=document.createTextNode(e),n=t}else n=r;e!==n&&(e.replaceWith(n.valueOf()),e=n)}};var M=(e,t)=>(t?i:D)(e);const Z=L(!1,S,M),H=L(!0,S,M),P=e=>(...t)=>()=>e(...t);export{P as component,Z as html,z as render,H as svg};
