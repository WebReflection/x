const e=1,t=2,r=8;class s{constructor(e,t){this.node=e,this.info=e.create(!1,t)}update(e){return this.info.update(e).node}}const{isArray:n}=Array,o=Symbol(),i=/^(?:plaintext|script|style|textarea|title|xmp)$/i,l=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;var a=(0,Object.freeze)([]);const{setPrototypeOf:c}=Object;class d extends((e=>{function t(e){return c(e,new.target.prototype)}return t.prototype=e.prototype,t})(DocumentFragment)){static diff(e,t){return e instanceof d?1/t<0?t?e.#e(!0):e.#t:t?e.valueOf():e.#r:e}#r;#t;#e(e){let t,{childNodes:r}=this;return e&&(t=r.pop()),super.replaceChildren(...r),t}constructor(e=document.createDocumentFragment()){super(e),this.#r=super.firstChild,this.#t=super.lastChild,this.#r||super.append(this.#r=document.createComment("<>"),this.#t=document.createComment("</>"))}get firstChild(){return this.#r}get lastChild(){return this.#t}get parentNode(){return this.#t.parentNode}get childNodes(){let e=this.#r;const t=[e],r=this.#t;for(;e!=r;)t.push(e=e.nextSibling);return t}remove(){this.#e(!1)}replaceWith(e){const t=this.#e(!0),r=this.#t;t!==r&&super.appendChild(t),r.replaceWith(e)}valueOf(){const{parentNode:e}=this.#t;return e?e!==this&&super.replaceChildren(...this.childNodes):super.appendChild(this.#t),this}}class h{constructor(e,t){this.node=e,this.updates=t}update(e){const{updates:t}=this;for(let{length:r}=t,s=0;s<r;s++)t[s](e[s]);return this}}class u{constructor(e,t,r){this.type=e,this.node=t,this.paths=r}create(e,t){const{type:r,node:s,paths:n}=this,{length:o}=n,i=o?[]:a,l=document.importNode(s,!0);for(let r,s=l,c=0;c<o;c++){const{type:o,name:d,path:h}=n[c];if(h!==a&&h!==r){r=h,s=l;for(let{length:e}=h,t=0;t<e;t++)s=s.childNodes[h[t]]}i[c]=2===o?t[2](e,s,d):t[o](e,s)}return new h(11===r?new d(l):l,i)}}class p{constructor(e,t,r){this.type=e,this.name=t,this.path=r}}const m=e=>{const{firstChild:t}=e;return t&&t===e.lastChild?e.removeChild(t):e};let f=document.createElement("template");const C=e=>{f.innerHTML=e;const{content:t}=f,r=m(t);return r===t&&(f=f.cloneNode(!1)),r};let g;const v=e=>(g||(g=document.createRange(),g.selectNodeContents(document.createElementNS("http://www.w3.org/2000/svg","svg"))),m(g.createContextualFragment(e))),x=/<([a-zA-Z0-9]+[a-zA-Z0-9:._-]*)([^>]*?)(\/?)>/g,b=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,y=/[\x01\x02]/g;const N="_x",{indexOf:w}=a,A=e=>{const t=[];let r,s=0;for(;r=e.parentNode;)s=t.push(w.call(r.childNodes,e)),e=r;return s<2?s?t:a:t.reverse()},$=(e,t,r,s)=>{switch(t.nodeType){case 8:t.data===N+s&&(r.push(new p(8,"#comment",A(t))),s++);break;case 1:{let n,o;for(;t.hasAttribute(o=N+s);)r.push(new p(2,t.getAttribute(o),n||(n=A(t)))),t.removeAttribute(o),s++;!e&&i.test(t.localName)&&t.textContent.trim()===`\x3c!--${o}--\x3e`&&(r.push(new p(1,"#text",n||A(t))),s++);break}}return s};var O=e=>{const t=e?v:C;return r=>{const s=((e,t,r)=>{let s=0;return e.join("").trim().replace(x,((e,t,s,n)=>`<${t}${s.replace(b,"=$2$1").trimEnd()}${n?r||l.test(t)?" /":`></${t}`:""}>`)).replace(y,(e=>""===e?`\x3c!--${t+s++}--\x3e`:t+s++))})(r,N,e),n=t(s),o=r.length-1;let i=a;if(o){let t=$(e,n,i=[],0);if(t<o){const r=document.createTreeWalker(n,129);for(;t<o;)t=$(e,r.nextNode(),i,t)}}return new u(n.nodeType,n,i)}};const k=(j=WeakMap,class extends j{set(e,t){return super.set(e,t),t}});var j;let T=null;const W=new k,_=(e,t)=>{const r=T;var n,o,i;T=W.get(e)||W.set(e,(n=0,o=!0,i=[],{parse:(e,t,r)=>((o||i[n].node!==e)&&(i[n]=new s(e,t),o=!0),i[n++].update(r)),update:(e,t)=>{o&&e.replaceChildren(t),o=!1,n=0}}));try{T.update(e,t())}finally{T=r}return e},E=(e,t,r)=>e.create(!0,t).update(r).node,z=(s,n,i)=>{const l=new k,a=O(s),c=((s,n)=>({[t]:(e,t,r)=>{let n=r[0],i=n in s?n:r in s?r:o;return s[i](e,t,n===i?r.slice(1):r)},[r]:(e,t)=>n(e,t),[e]:(e,t)=>(e=>t=>{e.textContent=t})(t)}))(n,i);return(e,...t)=>(T?.parse||E)(l.get(e)||l.set(e,a(e)),c,t)};var F=Object.freeze({__proto__:null,[o]:(e,t,r)=>e=>{null==e?t.removeAttribute(r):t.setAttribute(r,e)},"@":(e,t,r)=>{let s;return e=>{const o=n(e)?e:[e||null];s&&o[0]!==s[0]&&t.removeEventListener(r,...s),o[0]&&t.addEventListener(r,...o),s=o}},"?":(e,t,r)=>e=>{t.toggleAttribute(r,e)},".":(e,t,r)=>e=>{t[r]=e}});const L=e=>t=>{const r=null==t;e.replaceWith(r||"object"!=typeof t?document.createTextNode(r?"":t):t.valueOf())},S=e=>{let t;return r=>{let s,n=null==r;if(n||"object"!=typeof r){const e=n?"":r;t?t.data!==e&&(t.data=e):t=document.createTextNode(e),s=t}else s=r;e!==s&&(e.replaceWith(s.valueOf()),e=s)}};var D=(e,t)=>(e?L:S)(t);const M=z(!1,F,D),Z=z(!0,F,D),H=e=>(...t)=>()=>e(...t);export{H as component,M as html,_ as render,Z as svg};
